---
import Calibration from "@components/charts/calibration.astro";
import { getMarketsLite } from "@lib/api";
import { marketsIntoCalibrationPoints } from "@lib/calibration";

const markets = await getMarketsLite(
  "&or(volume_usd.gte.200,traders_count.gte.20)&duration_days=gte.10",
);
const points = marketsIntoCalibrationPoints(markets);
---

<Calibration
  title="Calibration Plot"
  subtitle="Filtered with a minimum duration, volume, and number of traders."
  points={points}
/>
