---
import Base from "@layouts/base.astro";
import SelectableOptions from "@components/charts/selectable-options.astro";
import CalibrationFancy from "@components/charts/calibration-fancy.astro";
import { getMarkets, getPlatforms, getCategories } from "@lib/api";

// Download markets and platforms
const markets = await getMarkets();
const platforms = await getPlatforms();
const categories = await getCategories();
---

<Base title="Calibration Charts">
  <div class="p-4 m-2 pb-0 mb-0">
    <h1 class="text-4xl font-bold">Experiments!</h1>
    <div class="mt-2">
      The venn diagram of data visualizations that I think are useful,
      interesting, non-obvious, and readable has a very small center. This page
      is for charts that I like but don't meet my criteria for a main page, or
      are maybe a bit too complex.
    </div>
  </div>

  <div class="p-4 m-2">
    <div class="my-4">
      <h2 class="font-bold text-2xl">Alternate Calibration Visualization</h2>
      <div class="my-2">
        The main calibration charts stack all of the platform data points in a
        column, which is accurate but can be hard to read. This one breaks them
        out side by side and shows an uncertainty range, inspired by <a
          href="https://projects.jhkforecasts.com/forecast-history/fte.html"
          class="text-lavender"
          target="_blank">JHK Forecasts</a
        >.
      </div>
    </div>
    <CalibrationFancy platforms={platforms} markets={markets} width={1100} />
  </div>
</Base>
